# Инструкция как работать с Git и репозиториями

## Что такое Git

Git - это консольная утилита, для отслеживания и ведения истории изменения файлов, в вашем проекте. Чаще всего его используют для кода, но можно и для других файлов. Например, для картинок - полезно для дизайнеров.

С помощью Git-a можно откатить свой проект до более старой версии, сравнивать, анализировать или сливать свои изменения в репозиторий.

## Что такое репозиторий

Репозиторием называют хранилище вашего кода и историю его изменений. Git работает локально и все ваши репозитории хранятся в определенных папках на жестком диске.

Так же ваши репозитории можно хранить и в интернете. Обычно для этого используют три сервиса:

* GitHub
* Bitbucket
* GitLab

## Первый этап работы с Git

Команда для запроса версии Git:

    git --version 

## Ваш идентификатор

Регистрация имени в системе Git:

    git config --global user.name "<ваше_имя>" 

Регистрация почты в системе Git:

    git config --global user.email "<адрес_почты@email.com>"

*Передача параметра --global позволяет сделать эти настройки всего один раз.*

## Получение справочной информации

Доступ к странице со справочной информацией:

    git help <команда>

## Создание репозитория в Git

### Проверка подключения (фиксации) папки к Git

    git status

Если в ответ вы увидите ошибку:

    fatal: not a git repository (or any of the parent directories): .git

Значит, в терминале вызываете команду не из репозитория, а из обычной папки. Если увидели что-то другое, то вы находитесь в репозитории или внутри одной из папок, которая находится в нем.

**Важно! Репозиторий отслеживает изменения во всех вложенных в него папках.**

*Если сделать репозиторием корневую папку на диске C (не делать этого!), то весь диск станет репозиторием и Git будет отслеживать все изменения на этом диске.*

Чтобы начать слежение за существующим проектом и хотим сделать из нее репозиторий, перейдем в папку этого проекта и введем команду инициализация git:

    git init

Эта папка становится репозиторием.

### Для того чтобы клонировать репозиторий из GitHub на свой ПК,  команда

    git clone

**Важно!** Не нужно пользоваться командой **«git init»**, команда **clone** не только скачивает файлы из интернета, но и инициализирует репозиторий в скачанной папке.

**Важно!** Не нужно создавать репозиторий внутри репозитория. Прежде чем вызывать команды «git init» или «git clone», сначала убедитесь, что вы точно не внутри репозитория. Вызовите **«git status»** и убедитесь, что вы находитесь в папке, а не в репозитории. Если **«git status»** выдал ошибку:

    fatal: not a git repository (or any of the parent directories): .git

 Значит, вы в этой папке можете воспользоваться одним из способов создания репозитория. Либо **«git init»**, либо **«git clone»**, но не обоими одновременно.

**Важно!** Иногда сначала вызывают **«git init»** и потом **«git clone»**. Но тем самым нарушаете правило не создавать репозиторий внутри репозитория.

## Что делать, если все вокруг стало репозиторием

**Проверка** Создаем новую пустую папку, например на рабочем столе, и в терминале вызовите «git status» в этой папке.

    «fatal: not a git repository …»

Если видим то радуемся. Все порядке.

Если же видим что-то другое, значит, вновь созданная папка является частью какого-то другого репозитория.

**Важно:** *мы только что создали новую папку и внутри нее никаких команд кроме «git status» не вызывали, то есть мы не создали сейчас новый репозиторий, но Git при этом не говорит нам, что это **«not a git repository»**. Это может быть только в том случае, если эту новую папку создали уже внутри другого репозитория, то есть чуть раньше сделали репозиторием рабочий стол или даже весь диск C.*

Как лечить: нужно найти репозиторий, который создали по ошибке и **"удоляем папку .git"**.

Если вы работаете на Windows, включите отображение скрытых файлов и папок, так как папка .git скрытая. Далее начинаем подниматься по иерархии папок вверх и искать в них папки «.git». Например, если вы создали папку по адресу **«C:\Users\User\Pictures\ControlCenter\Scan»**, то сначала проверяете папку Scan, потом проверяете папку ControlCenter, потом Pictures и так далее, пока не найдете скрытую папку .git. Когда нашли и удалили, проводим проверку из начала этого пункта заново.

## Первая фиксация изменений

Чтобы начать управление версиями существующих файлов указываем файлы, за которыми должна следить система, и выполняем первую фиксацию изменений. Для этого используем команды:

*Добавить файл в реестр:*

    git add name.txt

*Добавить файл в реестр:*

    git add .

*Сохранение изменений:*

    git commit -m "комментарий к изменениям (eng)"

*Отмена последнего сохранения:*

    git commit –a

***Упрощение!*** Сразу добавляем в реестр и вносим коментарий:

    git commit -a -m "коментарий (eng)"

**Внимание!** В том случае когда была введена команда **«git commit»** без "название commit" git попросит ввести этот в консоли.  Что нужно сделать?

Нажимаем SHIFT+I => вводим комментарий (без кавычек и прочего) => ESC => SHIFT+; (не на цифрах) => wq => ENTER

**Команды работы с папками через консоль!**

    cd d:\Git <=> переход в папку
    pwd d:\Git <=> показать текущую папку
    ls <=> показывает файлы в папке
    ls -a <=> показывает скрытые элементы
    touch file.txt / new-item file.txt <=> создание файла 
    git rm name.md <=> отключить отслеживание файла

## Работа с cохранениями

Отображение сделанных сохранений

    git log

Навигация в меню log

    q <=> выйти и get log
    w <=> перемещение вверх
    e <=> перемещение вниз

Загрузка сохранения:

    git checkout “вводим номер checkout (достаточно первых 4х символов)”

Ререход к последнему сохранению:

    git checkout master

## Просмотр индексированных и неиндексированных изменений

Разница между текущим состоянием файла и состоянием которое сохранено:

    git diff

Показывает:

* что вы отредактировали (но пока не проиндексировали)

* что из проиндексированного готово к фиксации?

## Вывод списка веток

Команда отображения созданых веток:

    git branch

## Создание ветки

Создать новую ветку

    git branch name_branch

**Внимание!** Нужно находиться в ветке от которой нужно сделать ответвление

Для создания и перехода в новую ветку используем команду:

    git ckeckout -b new_branch

## Переименовать ветку

## Удаление ветки

## Переход между ветками

Для перехода между ветками используем команду:

    git ckeckout name_branch

## Графическое отображение веток

Для отображения веток с помощью графика используем:

    git log --oneline --graph --all

## Сливание текущей ветки с ответвлением
